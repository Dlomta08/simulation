<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Problemset</title>
  <link rel="stylesheet" href="problemset.css">
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <script>
    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.add('dark-mode');
    }
  </script>
</head>
<body>
  <div class="symbol-background"></div>
  <button id="toggle-dark">­ЪїЎ</button>
  <div id="account-info"></div>

  <h2>рЃбрЃћрЃАрЃбрЃўрЃА рЃњрЃљрЃЊрЃљрЃ«рЃћрЃЊрЃЋрЃљ</h2>
  <div id="quizPreview" style="min-height:100px; border:1px solid #ccc; padding:10px;"></div>
  <button onclick="generateQuizPDF()">рЃбрЃћрЃАрЃбрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ</button>
  <button onclick="shuffleQuiz()">рЃЌрЃљрЃюрЃЏрЃўрЃЏрЃЊрЃћрЃЋрЃарЃЮрЃЉрЃўрЃА рЃљрЃарЃћрЃЋрЃљ</button>

  <h1>рЃљрЃЏрЃЮрЃфрЃљрЃюрЃћрЃЉрЃў</h1>

  <button onclick="toggleTypeButtons()">рЃљрЃЏрЃЮрЃфрЃљрЃюрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ</button>

  <div id="typeButtons" style="display:none; margin: 10px 0;">
    <button onclick="showForm('image')">­ЪЊи рЃцрЃЮрЃбрЃЮрЃА рЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃўрЃЌ</button>
    <button onclick="showForm('word')">­ЪЊЮ Word-рЃАрЃбрЃўрЃџрЃўрЃА</button>
    <button onclick="showForm('latex')">­ЪЊљ LaTeX</button>
  </div>

  <!-- рЃАрЃљрЃћрЃарЃЌрЃЮ рЃўрЃюрЃцрЃЮ -->
  <div id="commonFields" style="display:none; margin-top: 10px;">
    <label for="tags"><strong>рЃЌрЃћрЃЏрЃћрЃЉрЃў (рЃњрЃљрЃЏрЃЮрЃДрЃЮрЃцрЃўрЃџрЃў рЃЏрЃФрЃўрЃЏрЃўрЃЌ):</strong></label>
    <input type="text" id="tags" placeholder="рЃЏрЃљрЃњ. рЃњрЃћрЃЮрЃЏрЃћрЃбрЃарЃўрЃљ, рЃљрЃџрЃњрЃћрЃЉрЃарЃљ"><br><br>

    <label for="difficulty"><strong>рЃАрЃўрЃарЃЌрЃБрЃџрЃћ (5 рЃЉрЃљрЃџрЃўрЃљрЃюрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ):</strong></label>
    <select id="difficulty">
      <option value=1>1</option>
      <option value=2>2</option>
      <option value=3 selected>3</option>
      <option value=4>4</option>
      <option value=5>5</option>
    </select><br><br>

    <label><strong>рЃљрЃЏрЃЮрЃфрЃљрЃюрЃўрЃА рЃгрЃДрЃљрЃарЃЮ:</strong></label>
    <select id="problemTarget">
      <option value="public">рЃАрЃљрЃ»рЃљрЃарЃЮ</option>
      <option value="personal">рЃърЃўрЃарЃљрЃЊрЃў</option>
    </select><br><br>
  </div>

  <!-- рЃцрЃЮрЃарЃЏрЃљ рЃцрЃЮрЃбрЃЮрЃАрЃЌрЃЋрЃўрЃА -->
  <div id="formImage" style="display:none;">
    <label for="problemImage"><strong>рЃљрЃбрЃЋрЃўрЃарЃЌрЃћрЃЌ рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ (рЃцрЃЮрЃбрЃЮ):</strong></label>
    <input type="file" id="problemImage" accept="image/*"><br><br>
    <button onclick="addProblemImage()">рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ</button>
  </div>

  <!-- рЃцрЃЮрЃарЃЏрЃљ Word-рЃАрЃбрЃўрЃџрЃўрЃА -->
  <div id="formWord" style="display:none;">
    <label for="problemText"><strong>рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ:</strong></label><br>
    <textarea id="problemText" rows="6" cols="60" placeholder="рЃљрЃЦ рЃЕрЃљрЃгрЃћрЃарЃћ рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ..."></textarea><br><br>
    <button onclick="addProblemWord()">рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ</button>
  </div>

  <!-- рЃцрЃЮрЃарЃЏрЃљ LaTeX -->
  <div id="formLatex" style="display:none;">
    <label for="problemLatex"><strong>LaTeX рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ:</strong></label><br>
    <textarea id="problemLatex" rows="6" cols="60" placeholder="рЃЏрЃљрЃњ. \\(a^2 + b^2 = c^2\\)"></textarea><br><br>
    <button onclick="addProblemLatex()">рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ</button>
  </div>

  <hr>
  <button onclick="toggleFilter()">рЃљрЃЏрЃЮрЃфрЃљрЃюрЃћрЃЉрЃўрЃА рЃцрЃўрЃџрЃбрЃарЃў</button>
  <div id="filterSection" style="display:none; margin-top: 15px;">
    <strong>рЃАрЃўрЃарЃЌрЃБрЃџрЃўрЃА рЃЊрЃўрЃљрЃърЃљрЃќрЃЮрЃюрЃў:</strong>
    <select id="filterMinDifficulty"><option value="1" selected>1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option></select>
    -
    <select id="filterMaxDifficulty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option></select><br><br>

    <label for="filterTags"><strong>рЃњрЃљрЃцрЃўрЃџрЃбрЃарЃћрЃЌ рЃЌрЃћрЃЏрЃћрЃЉрЃў (рЃњрЃљрЃЏрЃЮрЃДрЃЮрЃцрЃўрЃџрЃў рЃЏрЃФрЃўрЃЏрЃўрЃЌ):</strong></label>
    <input type="text" id="filterTags" placeholder="рЃЏрЃљрЃњ. рЃњрЃћрЃЮрЃЏрЃћрЃбрЃарЃўрЃљ, рЃљрЃџрЃњрЃћрЃЉрЃарЃљ"><br><br>

    <label for="filterSource"><strong>рЃљрЃЏрЃЮрЃфрЃљрЃюрЃўрЃА рЃгрЃДрЃљрЃарЃЮ:</strong></label>
    <select id="filterSource">
      <option value="both" selected>рЃДрЃЋрЃћрЃџрЃљ</option>
      <option value="personal">рЃърЃўрЃарЃљрЃЊрЃў</option>
      <option value="public">рЃАрЃљрЃ»рЃљрЃарЃЮ</option>
    </select><br><br>

    <button onclick="applyFilters()">рЃњрЃљрЃцрЃўрЃџрЃбрЃЋрЃарЃљ</button>
  </div>

  <div id="problemList"></div>

  <script>
    function toggleTypeButtons() {
      const box = document.getElementById('typeButtons');
      box.style.display = box.style.display === 'none' ? 'block' : 'none';
    }

    function showForm(type) {
      document.getElementById('formImage').style.display = 'none';
      document.getElementById('formWord').style.display = 'none';
      document.getElementById('formLatex').style.display = 'none';
      document.getElementById('commonFields').style.display = 'block';

      if (type === 'image') {
        document.getElementById('formImage').style.display = 'block';
      } else if (type === 'word') {
        document.getElementById('formWord').style.display = 'block';
      } else if (type === 'latex') {
        document.getElementById('formLatex').style.display = 'block';
      }
    }

    function addProblemImage() {
      // рЃљрЃЦ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃАрЃћрЃарЃЋрЃћрЃарЃќрЃћ рЃцрЃЮрЃбрЃЮрЃА рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ
      alert("рЃцрЃЮрЃбрЃЮрЃА рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ рЃЊрЃљрЃћрЃЏрЃљрЃбрЃћрЃЉрЃљ");
    }

    function addProblemWord() {
      // рЃљрЃЦ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃбрЃћрЃЦрЃАрЃбрЃБрЃарЃў рЃљрЃЏрЃЮрЃфрЃљрЃюрЃўрЃА рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ
      alert("Word-рЃўрЃА рЃбрЃўрЃърЃўрЃА рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ рЃЊрЃљрЃћрЃЏрЃљрЃбрЃћрЃЉрЃљ");
    }

    function addProblemLatex() {
      // рЃљрЃЦ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃџрЃљрЃбрЃћрЃЦрЃАрЃўрЃА рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ
      alert("LaTeX рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљ рЃЊрЃљрЃћрЃЏрЃљрЃбрЃћрЃЉрЃљ");
    }
  </script>

  <script src="problemset.js"></script>
  <script src="darkmode.js"></script>
  <script src="account.js"></script>
</body>
</html>
